<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Lecci√≥n A2 ‚Äî Tablas de pesos y medidas de los productos</title>
<style>
  /* ======= ESTILOS BASE ======= */
  :root{
    --c-leccion:#60a5fa;  /* azul (lecci√≥n) */
    --c-texto:#a78bfa;    /* violeta (texto legal) */
    --c-explica:#22d3ee;  /* cian (explicaci√≥n) */
    --c-ejemplo:#f59e0b;  /* √°mbar (ejemplo) */
    --c-test:#3b82f6;     /* azul intenso (test) */
    --bg-legal:#f5f3ff;   --bg-explica:#ecfeff; --bg-ejemplo:#fffbeb; --bg-test:#eff6ff;
  }
  *{box-sizing:border-box}
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,"Noto Sans",sans-serif;margin:0;padding:16px;background:#f7f7f7;color:#222}
  .contenedor{max-width:980px;margin:0 auto;padding-bottom:120px}
  .leccion-titulo{font-size:28px;font-weight:800;margin:8px 0 4px}
  .leccion-sub{font-size:16px;color:#555;margin-bottom:24px}

  .minileccion{background:#fff;border:1px solid #e6e6e6;border-radius:12px;padding:18px;margin:18px 0;box-shadow:0 1px 2px rgba(0,0,0,.04);border-left:6px solid var(--c-leccion)}
  .badge{display:inline-block;font-size:12px;padding:4px 8px;border-radius:999px;background:#eef6ff;color:#1453a6;border:1px solid #d7e9ff;margin-bottom:8px}
  .minititulo{font-size:22px;font-weight:750;margin:6px 0 14px}

  .bloque{border-radius:10px;padding:12px;margin:14px 0;border:1px solid #e9e9e9}
  .bloque h4{margin:0 0 8px;font-size:15px;text-transform:uppercase;letter-spacing:.4px;color:#444}

  /* Texto legal */
  .b-texto{background:var(--bg-legal);border-color:#ddd}
  .b-texto h4{color:#5b21b6}
  blockquote.cita{background:#fff;border-left:4px solid var(--c-texto);padding:10px 12px;border-radius:8px;margin:6px 0 0;color:#333}
  blockquote.cita footer{font-size:12px;color:#666;margin-top:6px}

  /* Explicaci√≥n entendible */
  .b-explica{background:var(--bg-explica);border-color:#a5f3fc}
  .b-explica h4{color:#0e7490}

  /* Ejemplo pr√°ctico */
  .b-ejemplo{background:var(--bg-ejemplo);border-color:#fde68a}
  .b-ejemplo h4{color:#92400e}
  .ejemplo{background:#fff7e6;border:1px solid #ffe6a6;border-radius:10px;padding:12px}

  /* Test */
  .test{margin-top:16px;padding:12px;background:var(--bg-test);border:1px solid #bfdbfe;border-radius:12px}
  .test .titulo-test{font-weight:700;color:#1d4ed8;margin:0 0 8px}
  .pregunta{margin:14px 0;padding:12px;background:#fff;border:1px solid #e5e7eb;border-radius:10px}
  .pregunta h5{margin:0 0 8px;font-size:16px}
  .opciones{list-style:none;margin:0;padding:0}
  .opciones li{margin:8px 0}
  .opcion{display:flex;gap:8px;align-items:flex-start;background:#fff;border:1px solid #e6e6e6;border-radius:8px;padding:10px;cursor:pointer}
  .opcion input{margin-top:4px}
  .opcion.correcta{background:#ecfdf3;border-color:#bbf7d0}
  .opcion.incorrecta{background:#fff1f2;border-color:#fecdd3}
  .acciones{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap}
  .btn{border:0;padding:10px 14px;border-radius:8px;font-weight:600;cursor:pointer}
  .btn-primario{background:#1453a6;color:#fff}
  .btn-secundario{background:#ececec;color:#222}
  .btn[disabled]{opacity:.5;cursor:not-allowed}
  .feedback{margin-top:10px;padding:10px;border-radius:8px;display:none}
  .ok{background:#ecfdf3;border:1px solid #bbf7d0;color:#065f46}
  .ko{background:#fff1f2;border:1px solid #fecdd3;color:#9f1239}
  .explicacion{font-size:14px;color:#444;margin-top:4px}
  .opcion input:focus-visible{outline:2px solid #1453a6;outline-offset:2px}

  /* Bot√≥n siguiente */
  .boton-siguiente{
    position:fixed;right:16px;bottom:16px;background:#28a745;color:#ffffff;border:none;border-radius:10px;
    padding:12px 18px;font-weight:700;text-decoration:none;box-shadow:0 6px 18px rgba(40,167,69,0.25);
    transition:transform .05s ease-in-out,box-shadow .15s ease;z-index:9999
  }
  .boton-siguiente:hover{transform:translateY(-1px);box-shadow:0 8px 22px rgba(40,167,69,0.33)}
  .boton-siguiente:active{transform:translateY(0)}

  /* ===== SKIN "tema-azul" ===== */
  body.tema-azul .minititulo{
    display:block;margin:0 0 14px;padding:16px 18px;background:#d6eaf8;color:#1f618d;border-left:8px solid #1f618d;border-radius:12px;font-weight:800;
  }
  body.tema-azul .b-texto{background:#ebf5fb;border-color:#d6eaf8;border-left:6px solid #2e86c1}
  body.tema-azul .b-texto h4{color:#2e86c1}
  body.tema-azul blockquote.cita{border-left:4px solid #2e86c1;background:#fff}
  body.tema-azul .b-explica{background:#f5eef8;border-color:#ead1f3;border-left:6px solid #af7ac5}
  body.tema-azul .b-explica h4{color:#8e44ad}
  body.tema-azul .b-ejemplo{background:#fae5d3;border-color:#f7d7bd;border-left:6px solid #d35400}
  body.tema-azul .b-ejemplo h4{color:#ca6f1e}
  body.tema-azul .ejemplo{background:#fff8ef;border-color:#f7d7bd}
  body.tema-azul .test{background:#f4f6f7;border:1px solid #cfe6df;border-left:6px solid #117a65;border-radius:12px}
  body.tema-azul .test .titulo-test{color:#117a65}
  body.tema-azul .opcion.correcta{background:#eafaf1;border-color:#c8f3da}
  body.tema-azul .opcion.incorrecta{background:#fdecea;border-color:#f5c6cb}

  /* Miga de pan */
  .breadcrumb{
    max-width:980px;margin:8px auto 18px;padding:10px 12px;background:#e6f2ff;border:1px solid #cde4ff;border-radius:10px;
    display:flex;gap:8px;align-items:center;font-size:14px
  }
  .breadcrumb a{color:#1453a6;text-decoration:none;font-weight:600}
  .breadcrumb a:hover{text-decoration:underline}
  .breadcrumb .sep{color:#6b7280}
</style>
</head>

<body class="tema-azul">
  <!-- Breadcrumb -->
  <nav class="breadcrumb" aria-label="Breadcrumb">
    <a href="index.html">Inicio</a><span class="sep">‚Ä∫</span>
    <a href="bloques.html">Bloques</a><span class="sep">‚Ä∫</span>
    <a href="bloque-a.html">Bloque A</a><span class="sep">‚Ä∫</span>
    <span>Lecci√≥n A2</span>
  </nav>

  <div class="contenedor">
    <div class="leccion-titulo">Lecci√≥n A2 ‚Äî Tablas de pesos y medidas de los productos</div>
    <div class="leccion-sub">Gu√≠a directa para no confundirte con <strong>pesos m√°ximos</strong> y <strong>dimensiones</strong> por producto. Incluye observaciones y fe de erratas relevantes para el test.</div>

    <!-- ======= MINILECCI√ìN 1: Pesos m√°ximos ======= -->
    <section class="minileccion" id="pesos">
      <span class="badge">Minilecci√≥n</span>
      <h3 class="minititulo">1) Pesos m√°ximos por producto (nacional / internacional)</h3>

      <div class="bloque b-texto">
        <h4>üìò Texto literal clave</h4>
        <blockquote class="cita">
          Resumen de la <strong>tabla oficial de pesos</strong> (p√°gs. 5‚Äì6):<br>
          ‚Ä¢ Carta ordinaria / certificada: <strong>hasta 2 kg</strong> (nacional). Carta <em>urgente</em>: <strong>500 g</strong> (nacional). Notificaci√≥n: <strong>2 kg</strong> (nacional).<br>
          ‚Ä¢ Paq Ligero: <strong>2 kg</strong> (nacional; <em>sin peso volum√©trico</em>).<br>
          ‚Ä¢ Paq Light Internacional: <strong>2 kg</strong> (internacional).<br>
          ‚Ä¢ Paquete Azul (nacional): <strong>20 kg</strong> (con referencia de <em>peso volum√©trico</em> hasta <strong>50 kg</strong>).<br>
          ‚Ä¢ Paq Est√°ndar (nacional): <strong>30 kg</strong>. Paq Today (nacional): <strong>5 kg</strong> (volum√©trico: <strong>8 kg</strong>).<br>
          ‚Ä¢ Paq Premium prepagado: <strong>hasta 350 g</strong> / <strong>hasta 1 kg</strong> (seg√∫n formato).<br>
          ‚Ä¢ Publicorreo √ìptimo: <strong>800 g</strong>; Publicorreo Premium: <strong>2 kg</strong>; Publicorreo Plus: <strong>100 g</strong> (nacional).<br>
          ‚Ä¢ Cecogramas: <strong>7 kg</strong>. Libros: <strong>2 kg</strong>. Valijas: <strong>20 kg</strong> (nacional).<br>
          ‚Ä¢ Paq Return Internacional / Retorno Internacional (seg√∫n pa√≠s): <strong>hasta 30 kg</strong> (tabla internacional).<br>
          <footer>Fuente base: ‚ÄúTablas de pesos‚Äù (p√°gs. 5‚Äì6).</footer>
        </blockquote>
      </div>

      <div class="bloque b-explica">
        <h4>üé§ Ahora en versi√≥n entendible</h4>
        <div>
          Pensalo as√≠: <strong>Cartas</strong> y afines suelen topar en <strong>2 kg</strong>. La <strong>paqueter√≠a</strong> va de <strong>5</strong> a <strong>30 kg</strong> seg√∫n el producto.<br>
          Si aparece ‚Äú<em>peso volum√©trico</em>‚Äù, compar√°s el real con el calculado y manda el <em>mayor</em>. Y recuerda: <strong>Paq Ligero</strong> no usa volum√©trico.
        </div>
      </div>

      <div class="bloque b-ejemplo">
        <h4>üéØ Y c√≥mo ser√≠a en la realidad</h4>
        <div class="ejemplo">
          <ul style="margin:0;padding-left:18px">
            <li><strong>Sol</strong> env√≠a un dossier tama√±o A4 en <em>carta certificada</em> (1,4 kg): dentro del l√≠mite <strong>2 kg</strong>.</li>
            <li><strong>Bruno</strong> devuelve zapatillas por <em>Paq Est√°ndar</em> (27 kg): ok, tope <strong>30 kg</strong>.</li>
            <li><strong>Alma</strong> manda muestras a Lisboa con <em>Paq Light Internacional</em> (1,7 kg): correcto, <strong>2 kg</strong> m√°x.</li>
            <li><strong>Nico</strong> usa <em>Paq Today</em> para una entrega rapid√≠sima (4,2 kg): entra; ojo que el volum√©trico no pase de <strong>8 kg</strong>.</li>
            <li><strong>Valen</strong> hace una promo por <em>Publicorreo √ìptimo</em>: cada env√≠o <strong>‚â§ 800 g</strong>.</li>
          </ul>
        </div>
      </div>

      <div class="test" data-test-id="a2-1">
        <div class="titulo-test">üß™ Mini test de repaso (pesos)</div>

        <div class="pregunta" data-question-id="q1">
          <h5>1) ¬øCu√°l es el peso m√°ximo de una <em>carta certificada</em> (nacional)?</h5>
          <ul class="opciones">
            <li><label class="opcion"><input type="radio" name="q1" /><span>500 g</span></label></li>
            <li><label class="opcion"><input type="radio" name="q1" data-correct="true" data-explain="Para cartas (ordinaria/certificada) el tope t√≠pico es 2 kg."><span>2 kg</span></label></li>
            <li><label class="opcion"><input type="radio" name="q1" /><span>5 kg</span></label></li>
            <li><label class="opcion"><input type="radio" name="q1" /><span>20 kg</span></label></li>
          </ul>
          <div class="acciones"><button class="btn btn-primario" data-action="comprobar" disabled>Comprobar respuesta</button><button class="btn btn-secundario" data-action="reset">Limpiar selecci√≥n</button></div>
          <div class="feedback ok"></div><div class="feedback ko"></div>
        </div>

        <div class="pregunta" data-question-id="q2">
          <h5>2) En <em>Paq Today</em>, ¬øqu√© l√≠mite de <em>peso volum√©trico</em> indica la tabla?</h5>
          <ul class="opciones">
            <li><label class="opcion"><input type="radio" name="q2" /><span>5 kg</span></label></li>
            <li><label class="opcion"><input type="radio" name="q2" data-correct="true" data-explain="Para Today se marca volum√©trico 8 kg (y real 5 kg)."><span>8 kg</span></label></li>
            <li><label class="opcion"><input type="radio" name="q2" /><span>20 kg</span></label></li>
            <li><label class="opcion"><input type="radio" name="q2" /><span>No aplica</span></label></li>
          </ul>
          <div class="acciones"><button class="btn btn-primario" data-action="comprobar" disabled>Comprobar respuesta</button><button class="btn btn-secundario" data-action="reset">Limpiar selecci√≥n</button></div>
          <div class="feedback ok"></div><div class="feedback ko"></div>
        </div>
      </div>
    </section>

    <!-- ======= MINILECCI√ìN 2: Dimensiones ======= -->
    <section class="minileccion" id="dimensiones">
      <span class="badge">Minilecci√≥n</span>
      <h3 class="minititulo">2) Dimensiones m√°ximas y m√≠nimas por producto</h3>

      <div class="bloque b-texto">
        <h4>üìò Texto literal (extracto de tabla)</h4>
        <blockquote class="cita">
          ‚Ä¢ Correspondencia normalizada (m√°x.): <strong>23,5 √ó 12 cm</strong>.<br>
          ‚Ä¢ Tarjeta postal (m√°x. espesor): <strong>5 mm</strong>; (m√≠n.): <strong>14 √ó 9 cm</strong>.<br>
          ‚Ä¢ Carta urgente (m√°x.): <strong>23,5 √ó 12 cm</strong> y espesor <strong>10 mm</strong>; (m√≠n.): <strong>sobre/caja 14 √ó 9 cm</strong> (si es menor, etiqueta <strong>10 √ó 7</strong> con direcci√≥n y franqueo).<br>
          ‚Ä¢ Paquete Azul (caja): <strong>L + A + A = 200 cm</strong> (ning√∫n lado &gt; <strong>100 cm</strong>); Rollo/tubo: <strong>L = 100 cm</strong>, <strong>D = 15 cm</strong>.<br>
          ‚Ä¢ Paquete Internacional Light (caja): <strong>L + A + A = 90 cm</strong> (lado mayor ‚â§ <strong>60 cm</strong>); (m√≠n.): <strong>15 √ó 10 √ó 1 cm</strong>. Rollo/tubo: <strong>L + 2D = 17 cm</strong> y mayor ‚â• <strong>10 cm</strong>.<br>
          ‚Ä¢ Paq Est√°ndar para Citypaq (casillero): <strong>74 √ó 42 √ó 60 cm</strong> (terminal grande) / <strong>60 √ó 49 √ó 40 cm</strong> (terminal peque√±o).<br>
          ‚Ä¢ Paq Ligero (m√°x.): <strong>35 √ó 23 √ó 2 cm</strong> (m√≠n.): <strong>15 √ó 10 cm</strong>. ‚Äî Paq Today (m√°x.): <strong>39 √ó 39 √ó 29 cm</strong> (m√≠n. etiqueta <strong>14,5 √ó 10</strong>).<br>
          ‚Ä¢ Publicorreo Internacional (m√°x.): <strong>L ‚â§ 24,5</strong>, <strong>A ‚â§ 16,5</strong>, <strong>espesor ‚â§ 5 mm</strong>; (m√≠n.): <strong>sobre 14 √ó 9</strong>.<br>
          ‚Ä¢ Publicorreo √ìptimo (m√°x.): <strong>23 √ó 33 √ó 2 cm</strong> (m√≠n.): <strong>14 √ó 9 cm</strong>.<br>
          ‚Ä¢ <strong>CCRI (caja/rollo)</strong>: caja <strong>L + A + A = 90 cm</strong> (mayor ‚â§ <strong>60</strong>) / rollo <strong>L + 2D = 104 cm</strong> (mayor ‚â§ <strong>90</strong>); m√≠n.: <strong>14 √ó 9 cm</strong> (caja/sobre) y <strong>L + 2D = 17 cm</strong> (mayor ‚â• <strong>10</strong>).<br>
          <strong>Actualizaci√≥n aplicada:</strong> si el env√≠o por CCRI es <em>tarjeta postal</em>, las <u>m√°ximas</u> son <strong>12 √ó 23,5 cm</strong> y las <u>m√≠nimas</u> <strong>14 √ó 9 cm</strong>.<br>
          <footer>Fuente base: ‚ÄúTablas de dimensiones‚Äù (p√°gs. 7‚Äì11). Nota de correcci√≥n: p. 11 (CCRI + tarjeta postal).</footer>
        </blockquote>
      </div>

      <div class="bloque b-explica">
        <h4>üé§ Ahora en versi√≥n entendible</h4>
        <div>
          Para <strong>cajas/sobres</strong> se usa la suma <strong>L + A + A</strong>. Para <strong>tubos</strong>, <strong>L + 2D</strong> (largo + el doble del di√°metro).<br>
          Muchas <strong>m√≠nimas</strong> son <strong>14 √ó 9 cm</strong>; si no llega, salv√°s con etiqueta <strong>10 √ó 7</strong> (cuando la tabla lo permite). En <strong>CCRI</strong>, si es <em>postal</em>, aplica el marco especial 12 √ó 23,5 m√°x. / 14 √ó 9 m√≠n.
        </div>
      </div>

      <div class="bloque b-ejemplo">
        <h4>üéØ Y c√≥mo ser√≠a en la realidad</h4>
        <div class="ejemplo">
          <ul style="margin:0;padding-left:18px">
            <li><strong>Lara</strong> usa <em>Citypaq</em> peque√±o: su caja 58√ó38√ó35 entra (l√≠mite <strong>60 √ó 49 √ó 40</strong>).</li>
            <li><strong>Mauro</strong> env√≠a un p√≥ster por <em>CCRI en tubo</em>: L=60 y D=6 ‚Üí <strong>L+2D=72</strong> (ok) y la mayor medida no baja de 10 cm.</li>
            <li><strong>Rita</strong> prepara una <em>tarjeta postal por CCRI</em>: comprueba <strong>12 √ó 23,5</strong> (m√°x.) y <strong>14 √ó 9</strong> (m√≠n.). Si fuese 13 √ó 8, deber√≠a usar <em>etiqueta 10 √ó 7</em> y ya no ser√≠a postal est√°ndar.</li>
            <li><strong>Teo</strong> arma un <em>Paquete Azul</em> muy largo: no puede superar <strong>L + A + A = 200</strong> ni tener un lado &gt; <strong>100 cm</strong>.</li>
          </ul>
        </div>
      </div>

      <div class="test" data-test-id="a2-2">
        <div class="titulo-test">üß™ Mini test de repaso (dimensiones)</div>

        <div class="pregunta" data-question-id="q3">
          <h5>1) ¬øQu√© significa la f√≥rmula <em>L + 2D</em>?</h5>
          <ul class="opciones">
            <li><label class="opcion"><input type="radio" name="q3" /><span>Largo + Alto + Ancho</span></label></li>
            <li><label class="opcion"><input type="radio" name="q3" data-correct="true" data-explain="Para cilindros/tubos: largo + el doble del di√°metro."><span>Largo + el doble del di√°metro</span></label></li>
            <li><label class="opcion"><input type="radio" name="q3" /><span>Largo + per√≠metro</span></label></li>
            <li><label class="opcion"><input type="radio" name="q3" /><span>Largo √ó ancho √ó alto</span></label></li>
          </ul>
          <div class="acciones"><button class="btn btn-primario" data-action="comprobar" disabled>Comprobar respuesta</button><button class="btn btn-secundario" data-action="reset">Limpiar selecci√≥n</button></div>
          <div class="feedback ok"></div><div class="feedback ko"></div>
        </div>

        <div class="pregunta" data-question-id="q4">
          <h5>2) En <em>Paquete Azul</em>, ¬øcu√°l es la <u>suma m√°xima</u> de lados para caja?</h5>
          <ul class="opciones">
            <li><label class="opcion"><input type="radio" name="q4" /><span>74 + 42 + 60 cm</span></label></li>
            <li><label class="opcion"><input type="radio" name="q4" data-correct="true" data-explain="La tabla marca L + A + A = 200 cm y ning√∫n lado &gt; 100 cm."><span>200 cm (L + A + A), con la mayor ‚â§ 100 cm</span></label></li>
            <li><label class="opcion"><input type="radio" name="q4" /><span>270 cm (L + A + A)</span></label></li>
            <li><label class="opcion"><input type="radio" name="q4" /><span>15 √ó 10 √ó 1 cm</span></label></li>
          </ul>
          <div class="acciones"><button class="btn btn-primario" data-action="comprobar" disabled>Comprobar respuesta</button><button class="btn btn-secundario" data-action="reset">Limpiar selecci√≥n</button></div>
          <div class="feedback ok"></div><div class="feedback ko"></div>
        </div>

        <div class="pregunta" data-question-id="q5">
          <h5>3) En <em>CCRI</em>, si el env√≠o es <em>tarjeta postal</em>, ¬øqu√© marco de dimensiones aplica?</h5>
          <ul class="opciones">
            <li><label class="opcion"><input type="radio" name="q5" /><span>Solo 14 √ó 9 cm</span></label></li>
            <li><label class="opcion"><input type="radio" name="q5" data-correct="true" data-explain="Correcci√≥n de la tabla: m√°x. 12 √ó 23,5; m√≠n. 14 √ó 9."><span>M√°ximas 12 √ó 23,5 cm; m√≠nimas 14 √ó 9 cm</span></label></li>
            <li><label class="opcion"><input type="radio" name="q5" /><span>23 √ó 33 √ó 2 cm</span></label></li>
            <li><label class="opcion"><input type="radio" name="q5" /><span>39 √ó 39 √ó 29 cm</span></label></li>
          </ul>
          <div class="acciones"><button class="btn btn-primario" data-action="comprobar" disabled>Comprobar respuesta</button><button class="btn btn-secundario" data-action="reset">Limpiar selecci√≥n</button></div>
          <div class="feedback ok"></div><div class="feedback ko"></div>
        </div>
      </div>

      <div class="bloque b-explica">
        <h4>‚ÑπÔ∏è Notas oficiales y fe de erratas</h4>
        <div class="nota" style="font-size:14px;color:#444">
          ‚Ä¢ Desde 1/1/2009, <strong>Andorra</strong> es √°mbito <strong>nacional</strong> (salvo indicaci√≥n en contrario, p. ej. notificaciones). En internacional, <strong>Gibraltar</strong> se incluye en <strong>Zona 1 (Europa)</strong>.<br>
          ‚Ä¢ <strong>L + A + A</strong> = Largo + Alto + Ancho. <strong>D</strong> = di√°metro ‚Üí <strong>L + 2D</strong> para cilindros.<br>
          ‚Ä¢ <strong>Correcci√≥n (p. 7):</strong> donde diga ‚Äú(no aplica a notificaci√≥n)‚Äù, a√±adir <u>‚Äúni a libros‚Äù</u> para los formatos de <em>tubo/rollo</em> (m√°ximas y m√≠nimas).<br>
          ‚Ä¢ <strong>Correcci√≥n (p. 11):</strong> en <em>CCRI</em>, si es <em>tarjeta postal</em>, m√°x. <strong>12 √ó 23,5</strong> / m√≠n. <strong>14 √ó 9</strong>.
        </div>
      </div>
    </section>
  </div>

  <!-- Bot√≥n siguiente -->
  <a class="boton-siguiente" href="leccion-a3.html" rel="next">Siguiente ‚ûú</a>

<script>
/* ======= L√ìGICA DEL MINITEST ======= */
(function() {
  function setEstadosIniciales() {
    document.querySelectorAll('.pregunta').forEach(function(p){
      var btn = p.querySelector('button[data-action="comprobar"]');
      if (btn) btn.disabled = true;
      p.addEventListener('change', function(e){
        if (e.target.matches('input[type="radio"]')) btn.disabled = false;
      });
    });
  }
  function comprobar(preguntaEl) {
    var seleccion = preguntaEl.querySelector('input[type="radio"]:checked');
    var okBox = preguntaEl.querySelector('.feedback.ok');
    var koBox = preguntaEl.querySelector('.feedback.ko');
    okBox.style.display='none'; okBox.textContent='';
    koBox.style.display='none'; koBox.textContent='';
    preguntaEl.querySelectorAll('.opcion').forEach(function(o){o.classList.remove('correcta','incorrecta')});
    if (!seleccion){ koBox.textContent='Eleg√≠ una opci√≥n antes de comprobar.'; koBox.style.display='block'; return; }
    var esCorrecta = seleccion.hasAttribute('data-correct');
    var explicacion = seleccion.getAttribute('data-explain') || '';
    var tarjeta = seleccion.closest('.opcion');
    if (esCorrecta){
      tarjeta.classList.add('correcta');
      okBox.innerHTML='‚úÖ Respuesta correcta<div class="explicacion">'+(explicacion||'¬°Bien!')+'</div>';
      okBox.style.display='block';
    } else {
      tarjeta.classList.add('incorrecta');
      koBox.innerHTML='‚ùå Respuesta incorrecta<div class="explicacion">'+(explicacion||'Revis√° el concepto y prob√° otra vez.')+'</div>';
      koBox.style.display='block';
    }
  }
  function resetear(preguntaEl){
    preguntaEl.querySelectorAll('input[type="radio"]').forEach(function(r){r.checked=false});
    preguntaEl.querySelectorAll('.feedback').forEach(function(f){f.style.display='none'; f.textContent=''});
    preguntaEl.querySelectorAll('.opcion').forEach(function(o){o.classList.remove('correcta','incorrecta')});
    var btn = preguntaEl.querySelector('button[data-action="comprobar"]'); if (btn) btn.disabled=true;
  }
  document.addEventListener('click', function(e){
    var btn = e.target.closest('button[data-action]'); if(!btn) return;
    var p = btn.closest('.pregunta'); if(!p) return;
    var act = btn.getAttribute('data-action');
    if (act==='comprobar') comprobar(p);
    if (act==='reset') resetear(p);
  });
  setEstadosIniciales();
})();
</script>
</body>
</html>
